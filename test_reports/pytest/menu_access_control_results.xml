<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="12" skipped="0" tests="12" time="1.163" timestamp="2026-02-10T20:36:34.496001+00:00" hostname="agent-env-6da575ee-cc9a-4cf5-a62d-9947063bd34a"><testcase classname="tests.test_menu_access_control.TestMenuAccessControlSystem" name="test_menu_registry_returns_all_menus" time="0.335"><failure message="AssertionError: Failed to get menu registry: {&quot;detail&quot;:&quot;Invalid token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">tests/test_menu_access_control.py:52: in test_menu_registry_returns_all_menus
    assert response.status_code == 200, f"Failed to get menu registry: {response.text}"
E   AssertionError: Failed to get menu registry: {"detail":"Invalid token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_menu_access_control.TestMenuAccessControlSystem" name="test_super_admin_has_full_menu_access" time="0.035"><failure message="AssertionError: Failed to get permissions: {&quot;detail&quot;:&quot;Invalid token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">tests/test_menu_access_control.py:90: in test_super_admin_has_full_menu_access
    assert response.status_code == 200, f"Failed to get permissions: {response.text}"
E   AssertionError: Failed to get permissions: {"detail":"Invalid token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_menu_access_control.TestMenuAccessControlSystem" name="test_get_users_list" time="0.041"><failure message="AssertionError: Failed to get users: {&quot;detail&quot;:&quot;Invalid token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">tests/test_menu_access_control.py:108: in test_get_users_list
    assert response.status_code == 200, f"Failed to get users: {response.text}"
E   AssertionError: Failed to get users: {"detail":"Invalid token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_menu_access_control.TestMenuAccessControlSystem" name="test_cannot_modify_super_admin_permissions" time="0.037"><failure message="AttributeError: 'str' object has no attribute 'get'">tests/test_menu_access_control.py:125: in test_cannot_modify_super_admin_permissions
    super_admin_user = next((u for u in users if u.get("role") == "super_admin"), None)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_menu_access_control.py:125: in &lt;genexpr&gt;
    super_admin_user = next((u for u in users if u.get("role") == "super_admin"), None)
                                                 ^^^^^
E   AttributeError: 'str' object has no attribute 'get'</failure></testcase><testcase classname="tests.test_menu_access_control.TestMenuAccessControlSystem" name="test_view_admin_user_default_permissions" time="0.038"><failure message="AttributeError: 'str' object has no attribute 'get'">tests/test_menu_access_control.py:148: in test_view_admin_user_default_permissions
    admin_user = next((u for u in users if u.get("role") == "admin"), None)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_menu_access_control.py:148: in &lt;genexpr&gt;
    admin_user = next((u for u in users if u.get("role") == "admin"), None)
                                           ^^^^^
E   AttributeError: 'str' object has no attribute 'get'</failure></testcase><testcase classname="tests.test_menu_access_control.TestMenuAccessControlSystem" name="test_view_viewer_user_default_permissions" time="0.039"><failure message="AttributeError: 'str' object has no attribute 'get'">tests/test_menu_access_control.py:174: in test_view_viewer_user_default_permissions
    viewer_user = next((u for u in users if u.get("role") in ["viewer", "user"]), None)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_menu_access_control.py:174: in &lt;genexpr&gt;
    viewer_user = next((u for u in users if u.get("role") in ["viewer", "user"]), None)
                                            ^^^^^
E   AttributeError: 'str' object has no attribute 'get'</failure></testcase><testcase classname="tests.test_menu_access_control.TestMenuAccessControlSystem" name="test_update_user_menu_permissions" time="0.038"><failure message="AttributeError: 'str' object has no attribute 'get'">tests/test_menu_access_control.py:201: in test_update_user_menu_permissions
    test_user = next((u for u in users if u.get("role") in ["admin", "viewer", "user"]), None)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_menu_access_control.py:201: in &lt;genexpr&gt;
    test_user = next((u for u in users if u.get("role") in ["admin", "viewer", "user"]), None)
                                          ^^^^^
E   AttributeError: 'str' object has no attribute 'get'</failure></testcase><testcase classname="tests.test_menu_access_control.TestMenuAccessControlSystem" name="test_reset_user_menu_permissions" time="0.037"><failure message="AttributeError: 'str' object has no attribute 'get'">tests/test_menu_access_control.py:238: in test_reset_user_menu_permissions
    test_user = next((u for u in users if u.get("role") in ["admin", "viewer", "user"]), None)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_menu_access_control.py:238: in &lt;genexpr&gt;
    test_user = next((u for u in users if u.get("role") in ["admin", "viewer", "user"]), None)
                                          ^^^^^
E   AttributeError: 'str' object has no attribute 'get'</failure></testcase><testcase classname="tests.test_menu_access_control.TestMenuAccessControlSystem" name="test_invalid_menu_key_rejected" time="0.046"><failure message="AttributeError: 'str' object has no attribute 'get'">tests/test_menu_access_control.py:273: in test_invalid_menu_key_rejected
    test_user = next((u for u in users if u.get("role") in ["admin", "viewer", "user"]), None)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_menu_access_control.py:273: in &lt;genexpr&gt;
    test_user = next((u for u in users if u.get("role") in ["admin", "viewer", "user"]), None)
                                          ^^^^^
E   AttributeError: 'str' object has no attribute 'get'</failure></testcase><testcase classname="tests.test_menu_access_control.TestMenuAccessControlSystem" name="test_non_super_admin_cannot_modify_permissions" time="0.035"><failure message="AttributeError: 'str' object has no attribute 'get'">tests/test_menu_access_control.py:297: in test_non_super_admin_cannot_modify_permissions
    admin_user = next((u for u in users if u.get("role") == "admin"), None)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_menu_access_control.py:297: in &lt;genexpr&gt;
    admin_user = next((u for u in users if u.get("role") == "admin"), None)
                                           ^^^^^
E   AttributeError: 'str' object has no attribute 'get'</failure></testcase><testcase classname="tests.test_menu_access_control.TestMenuAccessControlSystem" name="test_user_not_found_returns_404" time="0.038"><failure message="AssertionError: Expected 404 for non-existent user, got 401&#10;assert 401 == 404&#10; +  where 401 = &lt;Response [401]&gt;.status_code">tests/test_menu_access_control.py:316: in test_user_not_found_returns_404
    assert response.status_code == 404, f"Expected 404 for non-existent user, got {response.status_code}"
E   AssertionError: Expected 404 for non-existent user, got 401
E   assert 401 == 404
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_menu_access_control.TestMenuPermissionsForCurrentUser" name="test_my_permissions_returns_correct_structure" time="0.290"><failure message="AssertionError: Failed: {&quot;detail&quot;:&quot;Invalid token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">tests/test_menu_access_control.py:345: in test_my_permissions_returns_correct_structure
    assert response.status_code == 200, f"Failed: {response.text}"
E   AssertionError: Failed: {"detail":"Invalid token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase></testsuite></testsuites>